<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Mini Calculator</title>

<script language="javascript">
function calculate() {
    var a = document.frmCal.txta;
    var b = document.frmCal.txtb;
    var o = document.frmCal.slto;
    var r = document.frmCal.txtr;

    // Biểu thức chính quy kiểm tra định dạng số
    var numberFormat = /^[+-]?\d+(\.\d+)?$/;

    // Kiểm tra xem a có phải là số không
    if (numberFormat.test(a.value) == false) {
        alert("a must be a number!");
        a.focus();
    }
    // Kiểm tra xem b có phải là số không
    else if (numberFormat.test(b.value) == false) {
        alert("b must be a number!");
        b.focus();
    }
    // Trường hợp phép chia hoặc chia lấy dư mà b = 0
    else if ((o.value == "/" || o.value == "%") && parseFloat(b.value) == 0) {
        alert("b can't be 0!");
        r.value = "";
        b.focus();
    }
    // make some vadidations here ...

    // Nếu hợp lệ → thực hiện tính toán
    else {
        r.value = eval(a.value + o.value + b.value);
    }
}
</script>
</head>

<body>
<form name="frmCal">
    <table border="0" align="center">
        <tr>
            <td colspan="2" align="center">
                <h2>MINI CALCULATOR</h2>
            </td>
        </tr>

        <tr>
            <td align="right">a = </td>
            <td><input name="txta" /></td>
        </tr>

        <tr>
            <td align="right">b = </td>
            <td><input name="txtb" /></td>
        </tr>

        <tr>
            <td align="right">Operator: </td>
            <td>
                <select name="slto">
                    <option value="+">+</option>
                    <option value="-">-</option>
                    <option value="*">*</option>
                    <option value="/">/</option>
                    <option value="%">%</option>
                </select>
            </td>
        </tr>

        <tr>
            <td align="right">Result: </td>
            <td><input name="txtr" readonly /></td>
        </tr>

        <tr>
            <td colspan="2" align="center">
                <input type="button" value="Calculate" onclick="calculate()">
            </td>
        </tr>
    </table>
    <link rel="stylesheet" href="ex6.css">
</form>
</body>
</html>

